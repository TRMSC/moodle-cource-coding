<script>
/**
 * @name Moodle Backbutton v.0.1
 * @description Add a back button instead of the breadcrumb within activities
 * @license GNU General Public Licence 3.0 - http://www.gnu.de/documents/gpl-3.0.en.html
 * @copyright (C) 2022, TRMSC - https://trmsc1.wordpress.com/
 *
 * PLEASE TRY THIS CODE CAREFULLY WITHIN YOUR INDIVIDUAL MOODLE INSTANCE
 * TESTED WITH MOODLE 4.0.4 BOOST
 *
 */
(function() {
    let sitecheck = document.getElementsByClassName('path-mod');
    if (sitecheck.length > 0) {
        let check = document.getElementsByClassName('path-mod')[0].classList;
        for (let i = 0; i < check.length; i++) {
            if (check[i].includes('course-')) {
                let coursenumber = check[i].replace(/c.+-/g, "");
                const backbutton = 
                    '<a href="/moodle/course/view.php?id=' + coursenumber + '">zur√ºck zum Kurs</a>';
                let buttoncontainer = document.createElement('div');
                buttoncontainer.classList.add('breadcrumb-item');
                buttoncontainer.style.margin = "8px 0px";
                buttoncontainer.innerHTML = backbutton;
                document.getElementById('page-header').prepend(buttoncontainer);
                document.getElementById("page-navbar").style.display = "none";
                break;
            }
        }
    }
})();
</script>
