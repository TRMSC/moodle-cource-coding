<!-- Moodle Scroll Trigger v.0.4 - Copyright (C) 2022, TRMSC - https://trmsc1.wordpress.com/ -->
<!-- GNU General Public Licence 3.0 - http://www.gnu.de/documents/gpl-3.0.en.html -->

<!-- TESTED ONLY IN MOODLE 3.9.11 CLASSIC THEME -->
<!-- PUT THE CODE INTO A TEXTBLOCK OR TEXTFIELD (HTML-MODE) ON COURSE-SITE AND OBSERVE THE NOTES BELOW -->

<script>
    window.addEventListener( 'load', function( event ) {
        let jquery_load_check_interval = setInterval( function() {
            if ( window.jQuery ) {
                console.log( 'jQuery in Moodle: jQuery v.' + $.fn.jquery + ' loaded' );
                console.log( 'jQuery in Moodle: v.3.1' );

		    /* REMOVE THE TWO SLASHS AT THE BEGINNING OF A CONTROL-LINE BELOW AND ADD AN ID TO ACTIVATE ELEMENT FOR SCROLL TRIGGERING */
		    
		    // triggerFromLeft("#ID WITH #"); /* COPY AND ADJUST THIS LINE FOR MORE SCROLL TRIGGERED ELEMENTS */
		    // triggerFromRight("#ID WITH #"); /* COPY AND ADJUST THIS LINE FOR MORE SCROLL TRIGGERED ELEMENTS */

                clearInterval( jquery_load_check_interval );
            } else {
                console.log( 'jQuery in Moodle: new try to load jquery...' );
            }
        }, 150);

        function triggerFromLeft(trg) {
            console.log('Start scroll-trigger for ' + trg);
            jQuery(trg).css("transition", "all 0.7s ease-in 0s");
            jQuery(window).scroll(function() {
               var hT = jQuery(trg).offset().top,
                   hH = jQuery(trg).outerHeight(),
                   wH = jQuery(window).height(),
                   wS = jQuery(this).scrollTop();
               if ((wS > (hT-600)) && (wS < (hT+hH-180))) {
                   jQuery(trg).css("opacity", "1");
                   jQuery(trg).css("transform", "translate(0px, 0px)");
               } else {
                   jQuery(trg).css("opacity", "0");
                   jQuery(trg).css("transform", "translate(-50px, 0px)");
               }
            });
        }
	    
        function triggerFromRight(trg) {
            console.log('Start scroll-trigger for ' + trg);
            jQuery(trg).css("transition", "all 0.7s ease-in 0s");
            jQuery(window).scroll(function() {
               var hT = jQuery(trg).offset().top,
                   hH = jQuery(trg).outerHeight(),
                   wH = jQuery(window).height(),
                   wS = jQuery(this).scrollTop();
               if ((wS > (hT-600)) && (wS < (hT+hH-180))) {
                   jQuery(trg).css("opacity", "1");
                   jQuery(trg).css("transform", "translate(0px, 0px)");
               } else {
                   jQuery(trg).css("opacity", "0");
                   jQuery(trg).css("transform", "translate(50px, 0px)");
               }
            });
        }
      
    }, false );
</script>
